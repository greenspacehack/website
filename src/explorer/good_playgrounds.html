<h2>Finding good playgrounds</h2>

<p>In this example, we'll fetch the greenspace data and filter it to show only greenspaces with playgrounds that our surveyors rated "Very Satisfied" or "Satisfied".</p>

<ul>
	<li>First, we fetch the data into <tt>greenspaces</tt>. (We use the <tt>async-get-json</tt> module to do this.)
	<li>We filter this to only include features where an assessor answered "Yes" to field R1P. This goes into <tt>playgrounds</tt>.
	<li>Then we filter the playgrounds to only include those where an assessor answered "Very_Satisfied" or "Satisfied" to field NESTLIKERT.
	<li>RunKit automatically visualises the result as features on a map.
</ul>

<p>Click "run" to see the result.</p>

<!-- RunKit code below here -->

<script src="https://embed.runkit.com" data-element-id="code"></script>

<div id="code">
var getJSON = require("async-get-json"); 
var greenspaces = await getJSON("https://greenspacehack.com/data/sites_grouped.geojson");

var playgrounds = greenspaces.features.filter(feature => feature.properties['R1P'].includes("Yes"));
var good_playgrounds = playgrounds.filter(feature => feature.properties['NESTLIKERT'].includes("Very Satisfied") || feature.properties['NESTLIKERT'].includes("Satisfied"));
</div>

<p>You can <a href="https://runkit.com/systemed/5efb3fb9fb2994001ae595de">see an expanded version of this</a> on RunKit.</p>
